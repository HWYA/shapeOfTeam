<html>
  <head>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.9/topojson.min.js"></script> -->
    <%= stylesheet_link_tag 'application' %>

    <div id="container"></div>

    <script>
      var map = new Datamap({
        scope: 'world',
        element: document.getElementById('container'),
        projection: 'mercator',
        height: null,
        width: null,
        responsive: true,
        fills: {
          defaultFill: '#C4C4C4',
          playerFill: '#38003c'
        },
        geographyConfig:{
          highlightFillColor: '#e90052'
        },
        bubblesConfig: {
          borderWidth: 0,
          popupTemplate: function(geography,data){
            return '<div class="hoverinfo"><strong>' + data.name + '</strong><br>' + data.place_of_birth + '</div>';
          },
          highlightFillColor: '#e90052'
        }
      })

      $(window).on('resize', function() {
        map.resize();
      });

    </script>
  </head>

  <%= select("get", "club_name", Club.all.collect {|p| [ p.name ] }, {include_blank: 'SELECT CLUB:'}) %>

</html>
